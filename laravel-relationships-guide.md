<div dir="rtl">

# ๐ ุดุฑุญ ุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู ูู ูุงุฑุงููู

### ุฏููู ูุจุณุท ุฌุฏุงู ูููุจุชุฏุฆูู ูุน ุฃูุซูุฉ ูู ุงูุญูุงุฉ

---

## ๐ค ูุนูู ุฅูู ุนูุงูุฉ (Relationship)ุ

ุชุฎูู ูุนุงูุง ุงููููู ุฏู:

**ูู ุงููุฏุฑุณุฉ:**
- ูู **ุทุงูุจ** ูู **ูุตู** ูุงุญุฏ ุจุณ
- ูู **ูุตู** ููู **ุทูุจุฉ** ูุชูุฑ

**ูู ุงูููุชุจุฉ:**
- ูู **ูุชุงุจ** ูู **ูุคูู** ูุงุญุฏ
- ูู **ูุคูู** ูุชุจ **ูุชุจ** ูุชูุฑุฉ

**ูู ุงูููุณุจูู:**
- ูู **ููุดูุฑ** ูู **ุตุงุญุจ** ูุงุญุฏ
- ูู **ุดุฎุต** ุนูุฏู **ููุดูุฑุงุช** ูุชูุฑุฉ

ุฏู ูููุง **ุนูุงูุงุช**! ๐ฏ

---

## ๐ ุฃููุงุน ุงูุนูุงูุงุช ุงูุฃุณุงุณูุฉ

### ุงูุนูุงูุงุช ุงูู 4 ุงููููุฉ:

```
1๏ธโฃ One to One     (ูุงุญุฏ ููุงุญุฏ)      โ ูู ุดุฎุต ูู ุฌูุงุฒ ุณูุฑ ูุงุญุฏ
2๏ธโฃ One to Many    (ูุงุญุฏ ููุชูุฑ)     โ ูู ุฃู ุนูุฏูุง ุฃุทูุงู ูุชูุฑ
3๏ธโฃ Many to Many   (ูุชูุฑ ููุชูุฑ)     โ ุงูุทูุจุฉ ูุงูููุงุฏ ุงูุฏุฑุงุณูุฉ
4๏ธโฃ Has Many Through (ุนุจุฑ ุนูุงูุฉ ุชุงููุฉ) โ ุงูุฏููุฉ ูุฃุทุจุงุก ุงููุณุชุดููุงุช
```

---

## 1๏ธโฃ ุนูุงูุฉ One to One (ูุงุญุฏ ููุงุญุฏ)

### ๐ฏ ุงููุซุงู ูู ุงูุญูุงุฉ:

**ูู ุดุฎุต ูู ุจุทุงูุฉ ุฑูู ูููู ูุงุญุฏุฉ ุจุณ**

```
ูุญูุฏ    โ   ุจุทุงูุฉ ุฑูู: 123456
ุฃุญูุฏ    โ   ุจุทุงูุฉ ุฑูู: 789012
ุณุงุฑุฉ    โ   ุจุทุงูุฉ ุฑูู: 345678
```

- ูุญูุฏ ููููุนุด ูููู ูู ุจุทุงูุชูู
- ุงูุจุทุงูุฉ ููููุนุด ุชููู ูุดุฎุตูู

---

### ๐ป ูุซุงู ูู ุงูููุฏ: ุงููุณุชุฎุฏู ูุงูููู ุงูุดุฎุตู

**ุงูุณููุงุฑูู:**
- ูู ูุณุชุฎุฏู ูู **profile** ูุงุญุฏ ุจุณ
- ูู profile ูู ูุณุชุฎุฏู ูุงุญุฏ ุจุณ

---

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงูุฌุฏุงูู

**ุฌุฏูู users:**
```php
Schema::create('users', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('email')->unique();
    $table->string('password');
    $table->timestamps();
});
```

**ุฌุฏูู profiles:**
```php
Schema::create('profiles', function (Blueprint $table) {
    $table->id();
    $table->foreignId('user_id')->constrained()->onDelete('cascade');
    $table->string('bio')->nullable();
    $table->string('avatar')->nullable();
    $table->date('birth_date')->nullable();
    $table->string('phone')->nullable();
    $table->timestamps();
});
```

**ููุงุญุธุฉ ูููุฉ:** 
- `user_id` ููุฌูุฏ ูู ุฌุฏูู `profiles` (ุงูุฌุฏูู ุงูุชุงุจุน)
- ุฏู ุงููู ุจุชุฑุจุท ุงูู profile ุจุงูููุฒุฑ

---

#### ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงูุนูุงูุฉ ูู ุงูู Model

**ูู Model User:**
```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    // ุงููุณุชุฎุฏู ูู profile ูุงุญุฏ
    public function profile()
    {
        return $this->hasOne(Profile::class);
    }
}
```

**ูู Model Profile:**
```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Profile extends Model
{
    protected $fillable = ['user_id', 'bio', 'avatar', 'birth_date', 'phone'];
    
    // ุงูู profile ุจุชุงุน ูููุ
    public function user()
    {
        return $this->belongsTo(User::class);
    }
}
```

---

#### ุงูุฎุทูุฉ 3: ุงุณุชุฎุฏุงู ุงูุนูุงูุฉ

**ุฌูุจ ูุนูููุงุช ุงูููุฒุฑ ูุน ุงูู profile:**
```php
$user = User::find(1);

echo $user->name;                    // ูุญูุฏ
echo $user->profile->bio;            // ูุทูุฑ ููุจ
echo $user->profile->phone;          // 01234567890
```

**ุฌูุจ ุตุงุญุจ ุงูู profile:**
```php
$profile = Profile::find(1);

echo $profile->user->name;           // ูุญูุฏ
echo $profile->user->email;          // mohamed@example.com
```

**ุฅูุดุงุก profile ููุณุชุฎุฏู:**
```php
$user = User::find(1);

$user->profile()->create([
    'bio' => 'ูุทูุฑ ูุงุฑุงููู',
    'avatar' => 'avatar.jpg',
    'phone' => '01234567890'
]);
```

---

### ๐จ ุฑุณู ุชูุถูุญู:

```
ุฌุฏูู Users                    ุฌุฏูู Profiles
โโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโโ
โ id: 1       โโโโโโโโโโโโโโโถโ id: 1        โ
โ name: ูุญูุฏ  โ              โ user_id: 1   โ
โ email: ...  โ              โ bio: ...     โ
โโโโโโโโโโโโโโโ              โ avatar: ...  โ
                             โโโโโโโโโโโโโโโโ
```

---

## 2๏ธโฃ ุนูุงูุฉ One to Many (ูุงุญุฏ ููุชูุฑ)

### ๐ฏ ุงููุซุงู ูู ุงูุญูุงุฉ:

**ูู ุฃู ุนูุฏูุง ุฃุทูุงู ูุชูุฑ (ููู ูู ุทูู ูู ุฃู ูุงุญุฏุฉ)**

```
ุฃู ุณุงุฑุฉ
   โโโ ุฃุญูุฏ
   โโโ ูุฑูู
   โโโ ุนูู
```

**ุฃูุซูุฉ ุชุงููุฉ:**
- ุงููุฏุฑุณ ูุงูุทูุจุฉ
- ุงูุดุฌุฑุฉ ูุงูููุงูู
- ุงูููุงุฉ ูููุงุทุน ุงูููุชููุจ
- ุงูููุณุจูู ุจูุณุช ูุงูููููุชุงุช

---

### ๐ป ูุซุงู ูู ุงูููุฏ: ุงููุณุชุฎุฏู ูุงูููุงูุงุช

**ุงูุณููุงุฑูู:**
- ูู ูุณุชุฎุฏู ูููู ููุชุจ ููุงูุงุช ูุชูุฑ
- ูู ููุงู ููุณุชุฎุฏู ูุงุญุฏ ุจุณ

---

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงูุฌุฏุงูู

**ุฌุฏูู users:**
```php
Schema::create('users', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('email')->unique();
    $table->timestamps();
});
```

**ุฌุฏูู posts:**
```php
Schema::create('posts', function (Blueprint $table) {
    $table->id();
    $table->foreignId('user_id')->constrained()->onDelete('cascade');
    $table->string('title');
    $table->text('content');
    $table->timestamps();
});
```

**ุงูููุฑุฉ:**
- ูู post ููู `user_id` ุนุดุงู ูุนุฑู ููู ุงููู ูุงุชุจู

---

#### ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงูุนูุงูุฉ ูู ุงูู Model

**ูู Model User:**
```php
class User extends Model
{
    // ุงูููุฒุฑ ุนูุฏู ููุงูุงุช ูุชูุฑ
    public function posts()
    {
        return $this->hasMany(Post::class);
    }
}
```

**ููุงุญุธุฉ:** ุงุณุชุฎุฏููุง `posts()` ุจุตูุบุฉ ุงูุฌูุน ูุฃู ููู ูุชูุฑ!

**ูู Model Post:**
```php
class Post extends Model
{
    protected $fillable = ['user_id', 'title', 'content'];
    
    // ุงูููุงู ุฏู ุจุชุงุน ูููุ
    public function user()
    {
        return $this->belongsTo(User::class);
    }
}
```

**ููุงุญุธุฉ:** ุงุณุชุฎุฏููุง `user()` ุจุตูุบุฉ ุงูููุฑุฏ ูุฃู ูุงุญุฏ ุจุณ!

---

#### ุงูุฎุทูุฉ 3: ุงุณุชุฎุฏุงู ุงูุนูุงูุฉ

**ุฌูุจ ูู ููุงูุงุช ูุณุชุฎุฏู ูุนูู:**
```php
$user = User::find(1);

// ุฌูุจ ูู ุงูููุงูุงุช
foreach ($user->posts as $post) {
    echo $post->title;
    echo $post->content;
}

// ุนุฏุฏ ุงูููุงูุงุช
echo $user->posts->count();          // 5 ููุงูุงุช ูุซูุงู
```

**ุฌูุจ ูุงุชุจ ุงูููุงู:**
```php
$post = Post::find(1);

echo $post->user->name;              // ูุญูุฏ
echo $post->user->email;             // mohamed@example.com
```

**ุฅุถุงูุฉ ููุงู ุฌุฏูุฏ ููุณุชุฎุฏู:**
```php
$user = User::find(1);

// ุงูุทุฑููุฉ ุงูุฃููู
$user->posts()->create([
    'title' => 'ููุงูุชู ุงูุฃููู',
    'content' => 'ูุญุชูู ุงูููุงู...'
]);

// ุงูุทุฑููุฉ ุงูุซุงููุฉ
$post = new Post([
    'title' => 'ููุงู ุชุงูู',
    'content' => 'ูุญุชูู ุชุงูู...'
]);

$user->posts()->save($post);
```

**ุญุฐู ูู ููุงูุงุช ูุณุชุฎุฏู:**
```php
$user = User::find(1);
$user->posts()->delete();
```

---

### ๐จ ุฑุณู ุชูุถูุญู:

```
ุฌุฏูู Users                    ุฌุฏูู Posts
โโโโโโโโโโโโโโโ              โโโโโโโโโโโโโโโโโโโโ
โ id: 1       โโโโโโโโโโโโโโโถโ id: 1            โ
โ name: ูุญูุฏ  โ              โ user_id: 1       โ
โโโโโโโโโโโโโโโ         โโโโโถโ title: ููุงู 1    โ
                        โ    โโโโโโโโโโโโโโโโโโโโ
                        โ    โโโโโโโโโโโโโโโโโโโโ
                        โโโโโถโ id: 2            โ
                        โ    โ user_id: 1       โ
                        โ    โ title: ููุงู 2    โ
                        โ    โโโโโโโโโโโโโโโโโโโโ
                        โ    โโโโโโโโโโโโโโโโโโโโ
                        โโโโโถโ id: 3            โ
                             โ user_id: 1       โ
                             โ title: ููุงู 3    โ
                             โโโโโโโโโโโโโโโโโโโโ
```

---

### ๐ ูุซุงู ุนููู ูุงูู: ูุธุงู ุชุนูููุงุช

**ุงูุณููุงุฑูู:**
- ูู ููุงู ูููู ูููู ูู ุชุนูููุงุช ูุชูุฑ
- ูู ุชุนููู ูููุงู ูุงุญุฏ

```php
// Model Post
class Post extends Model
{
    public function comments()
    {
        return $this->hasMany(Comment::class);
    }
}

// Model Comment
class Comment extends Model
{
    protected $fillable = ['post_id', 'user_id', 'content'];
    
    public function post()
    {
        return $this->belongsTo(Post::class);
    }
}
```

**ุงูุงุณุชุฎุฏุงู:**
```php
// ุฌูุจ ููุงู ูุน ูู ุงูุชุนูููุงุช
$post = Post::find(1);

echo "ุงูููุงู: " . $post->title;
echo "ุนุฏุฏ ุงูุชุนูููุงุช: " . $post->comments->count();

foreach ($post->comments as $comment) {
    echo $comment->content;
}

// ุฅุถุงูุฉ ุชุนููู ุฌุฏูุฏ
$post->comments()->create([
    'user_id' => 1,
    'content' => 'ุชุนููู ุฑุงุฆุน!'
]);
```

---

## 3๏ธโฃ ุนูุงูุฉ Many to Many (ูุชูุฑ ููุชูุฑ)

### ๐ฏ ุงููุซุงู ูู ุงูุญูุงุฉ:

**ุงูุทูุจุฉ ูุงูููุงุฏ ุงูุฏุฑุงุณูุฉ:**

```
ุงูุทุงูุจ ุฃุญูุฏ:
   - ุจูุฏุฑุณ ุฑูุงุถูุงุช
   - ุจูุฏุฑุณ ุนููู
   - ุจูุฏุฑุณ ูุบุฉ ุนุฑุจูุฉ

ูุงุฏุฉ ุงูุฑูุงุถูุงุช:
   - ุจูุฏุฑุณูุง ุฃุญูุฏ
   - ุจูุฏุฑุณูุง ูุฑูู
   - ุจูุฏุฑุณูุง ุนูู
```

**ููุงุญุธุฉ:**
- ูู ุทุงูุจ ุจูุฏุฑุณ ููุงุฏ ูุชูุฑ โ
- ูู ูุงุฏุฉ ูููุง ุทูุจุฉ ูุชูุฑ โ

**ุฃูุซูุฉ ุชุงููุฉ:**
- ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ (Roles)
- ุงูููุชุฌุงุช ูุงููุฆุงุช
- ุงููุชุจ ูุงููุคูููู
- ุงูุฃููุงู ูุงูููุซููู

---

### ๐ป ูุซุงู ูู ุงูููุฏ: ุงูุทูุจุฉ ูุงูููุงุฏ

**ุงูุณููุงุฑูู:**
- ูู ุทุงูุจ ูููู ูุณุฌู ูู ููุงุฏ ูุชูุฑ
- ูู ูุงุฏุฉ ูููู ูุณุฌู ูููุง ุทูุจุฉ ูุชูุฑ

---

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก 3 ุฌุฏุงูู (ูุด 2!)

**ุฌุฏูู students:**
```php
Schema::create('students', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('email')->unique();
    $table->timestamps();
});
```

**ุฌุฏูู courses:**
```php
Schema::create('courses', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('code')->unique();
    $table->integer('credits');
    $table->timestamps();
});
```

**ุฌุฏูู course_student (ุฌุฏูู ุงููุณูุท - Pivot Table):**
```php
Schema::create('course_student', function (Blueprint $table) {
    $table->id();
    $table->foreignId('student_id')->constrained()->onDelete('cascade');
    $table->foreignId('course_id')->constrained()->onDelete('cascade');
    $table->integer('grade')->nullable();
    $table->timestamps();
});
```

**ููุงุญุธุฉ ูููุฉ ุฌุฏุงู:**
- ุงุณู ุงูุฌุฏูู ุงููุณูุท: `course_student` (ูุฑุชุจ ุฃุจุฌุฏูุงูุ ููุฑุฏ)
- ูุญุชูู ุนูู `student_id` ู `course_id`
- ูููู ูุถูู ุฃุนูุฏุฉ ุฅุถุงููุฉ ุฒู `grade` (ุงูุฏุฑุฌุฉ)

---

#### ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงูุนูุงูุฉ ูู ุงูู Models

**ูู Model Student:**
```php
class Student extends Model
{
    // ุงูุทุงูุจ ุจูุฏุฑุณ ููุงุฏ ูุชูุฑ
    public function courses()
    {
        return $this->belongsToMany(Course::class);
    }
}
```

**ูู Model Course:**
```php
class Course extends Model
{
    // ุงููุงุฏุฉ ูููุง ุทูุจุฉ ูุชูุฑ
    public function students()
    {
        return $this->belongsToMany(Student::class);
    }
}
```

**ููุงุญุธุฉ:** ุงุณุชุฎุฏููุง `belongsToMany` ูู ุงูุงุชุฌุงููู!

---

#### ุงูุฎุทูุฉ 3: ุงุณุชุฎุฏุงู ุงูุนูุงูุฉ

**ุฌูุจ ูู ุงูููุงุฏ ุงููู ุงูุทุงูุจ ุจูุฏุฑุณูุง:**
```php
$student = Student::find(1);

foreach ($student->courses as $course) {
    echo $course->name;              // ุฑูุงุถูุงุช
    echo $course->code;              // MATH101
}

// ุนุฏุฏ ุงูููุงุฏ
echo $student->courses->count();     // 5 ููุงุฏ
```

**ุฌูุจ ูู ุงูุทูุจุฉ ุงููุณุฌููู ูู ูุงุฏุฉ:**
```php
$course = Course::find(1);

foreach ($course->students as $student) {
    echo $student->name;             // ุฃุญูุฏ
    echo $student->email;            // ahmed@example.com
}

// ุนุฏุฏ ุงูุทูุจุฉ
echo $course->students->count();     // 30 ุทุงูุจ
```

**ุชุณุฌูู ุทุงูุจ ูู ูุงุฏุฉ:**
```php
$student = Student::find(1);

// ุชุณุฌูู ูู ูุงุฏุฉ ูุงุญุฏุฉ
$student->courses()->attach(1);

// ุชุณุฌูู ูู ุฃูุชุฑ ูู ูุงุฏุฉ
$student->courses()->attach([1, 2, 3]);

// ุชุณุฌูู ูุน ุจูุงูุงุช ุฅุถุงููุฉ
$student->courses()->attach(1, ['grade' => 90]);
```

**ุฅูุบุงุก ุชุณุฌูู ุทุงูุจ ูู ูุงุฏุฉ:**
```php
$student = Student::find(1);

// ุฅูุบุงุก ูุงุฏุฉ ูุงุญุฏุฉ
$student->courses()->detach(1);

// ุฅูุบุงุก ุฃูุชุฑ ูู ูุงุฏุฉ
$student->courses()->detach([1, 2]);

// ุฅูุบุงุก ูู ุงูููุงุฏ
$student->courses()->detach();
```

**ุชุญุฏูุซ ุงูุชุณุฌูู (ุฅูุบุงุก ุงููุฏูู ูุฅุถุงูุฉ ุฌุฏูุฏ):**
```php
$student = Student::find(1);

// ุงูุทุงูุจ ุฏูููุชู ูุณุฌู ูู ุงูููุงุฏ: 1, 2, 3 ุจุณ
$student->courses()->sync([1, 2, 3]);
```

**ุงูุชุญูู ูู ุงูุชุณุฌูู:**
```php
$student = Student::find(1);

if ($student->courses->contains(1)) {
    echo "ุงูุทุงูุจ ูุณุฌู ูู ุงููุงุฏุฉ!";
}
```

---

#### ุงูุฎุทูุฉ 4: ุงููุตูู ูุจูุงูุงุช ุงูุฌุฏูู ุงููุณูุท

**ูุซูุงู: ูุนุฑุถ ุงูุฏุฑุฌุงุช**

```php
$student = Student::find(1);

foreach ($student->courses as $course) {
    echo $course->name;
    echo $course->pivot->grade;       // ุงูุฏุฑุฌุฉ ูู ุงูุฌุฏูู ุงููุณูุท
    echo $course->pivot->created_at;  // ุชุงุฑูุฎ ุงูุชุณุฌูู
}
```

**ุนุดุงู ูุณุชุฎุฏู `pivot`ุ ูุงุฒู ูุญุฏุฏ ุงูุฃุนูุฏุฉ ุงูุฅุถุงููุฉ:**

**ูู Model Student:**
```php
public function courses()
{
    return $this->belongsToMany(Course::class)
                ->withPivot('grade')
                ->withTimestamps();
}
```

---

### ๐จ ุฑุณู ุชูุถูุญู:

```
ุฌุฏูู Students          ุฌุฏูู course_student         ุฌุฏูู Courses
โโโโโโโโโโโโ           โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโ
โ id: 1    โโโโโโโโโโโโ student_id: 1    โโโโโโโโโถโ id: 1        โ
โ name:    โ          โ course_id: 1     โ        โ name: Math   โ
โ ุฃุญูุฏ     โ          โ grade: 90        โ        โโโโโโโโโโโโโโโโ
โโโโโโโโโโโโ          โโโโโโโโโโโโโโโโโโโโ
     โ                โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโ
     โโโโโโโโโโโโโโโโโถโ student_id: 1    โโโโโโโโโถโ id: 2        โ
                      โ course_id: 2     โ        โ name: Scienceโ
                      โ grade: 85        โ        โโโโโโโโโโโโโโโโ
                      โโโโโโโโโโโโโโโโโโโโ
```

---

### ๐ ูุซุงู ุนููู: ุงูููุชุฌุงุช ูุงููุฆุงุช

**ุงูุณููุงุฑูู:**
- ุงูููุชุฌ ูููู ูููู ูู ูุฆุงุช ูุชูุฑ (ูุงุจุชูุจ โ ุฅููุชุฑูููุงุช + ุฃุฌูุฒุฉ ููุจููุชุฑ)
- ุงููุฆุฉ ูููุง ููุชุฌุงุช ูุชูุฑ

```php
// Model Product
class Product extends Model
{
    public function categories()
    {
        return $this->belongsToMany(Category::class)
                    ->withTimestamps();
    }
}

// Model Category
class Category extends Model
{
    public function products()
    {
        return $this->belongsToMany(Product::class)
                    ->withTimestamps();
    }
}
```

**ุงูุงุณุชุฎุฏุงู:**
```php
// ุฌูุจ ููุชุฌ ูุน ูุฆุงุชู
$product = Product::find(1);

echo "ุงูููุชุฌ: " . $product->name;
echo "ุงููุฆุงุช: ";

foreach ($product->categories as $category) {
    echo $category->name . ", ";
}

// ุฅุถุงูุฉ ุงูููุชุฌ ููุฆุฉ ุฌุฏูุฏุฉ
$product->categories()->attach(5);

// ุฅุฒุงูุฉ ูู ูุฆุฉ
$product->categories()->detach(3);
```

---

## 4๏ธโฃ ุนูุงูุฉ Has Many Through (ุนุจุฑ ุนูุงูุฉ ุชุงููุฉ)

### ๐ฏ ุงููุซุงู ูู ุงูุญูุงุฉ:

**ุงูุฏููุฉ ูุงูุฃุทุจุงุก:**

```
ูุตุฑ
  โโโ ุงููุงูุฑุฉ
  โ     โโโ ูุณุชุดูู 1
  โ     โ    โโโ ุฏ. ุฃุญูุฏ
  โ     โ    โโโ ุฏ. ุณุงุฑุฉ
  โ     โโโ ูุณุชุดูู 2
  โ          โโโ ุฏ. ูุญูุฏ
  โ          โโโ ุฏ. ูุฑูู
  โโโ ุงูุฅุณููุฏุฑูุฉ
        โโโ ูุณุชุดูู 3
             โโโ ุฏ. ุนูู
             โโโ ุฏ. ูุงุทูุฉ
```

**ุงูุณุคุงู:** ุนุงูุฒูู ูุฌูุจ ูู ุงูุฃุทุจุงุก ูู ูุตุฑ ูุจุงุดุฑุฉ!

---

### ๐ป ูุซุงู ูู ุงูููุฏ: ุงูุฏููุฉ ูุงููุดุงุฑูุงุช

**ุงูุณููุงุฑูู:**
- ูู ุฏููุฉ ูููุง ูุณุชุฎุฏููู
- ูู ูุณุชุฎุฏู ุนูุฏู ูุดุงุฑูุงุช
- ุนุงูุฒูู ูุฌูุจ ูู ุงููุดุงุฑูุงุช ูู ุงูุฏููุฉ!

---

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงูุฌุฏุงูู

**ุฌุฏูู countries:**
```php
Schema::create('countries', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->timestamps();
});
```

**ุฌุฏูู users:**
```php
Schema::create('users', function (Blueprint $table) {
    $table->id();
    $table->foreignId('country_id')->constrained();
    $table->string('name');
    $table->timestamps();
});
```

**ุฌุฏูู posts:**
```php
Schema::create('posts', function (Blueprint $table) {
    $table->id();
    $table->foreignId('user_id')->constrained();
    $table->string('title');
    $table->text('content');
    $table->timestamps();
});
```

---

#### ุงูุฎุทูุฉ 2: ูุชุงุจุฉ ุงูุนูุงูุฉ

**ูู Model Country:**
```php
class Country extends Model
{
    // ุงููุณุชุฎุฏููู ูู ุงูุฏููุฉ
    public function users()
    {
        return $this->hasMany(User::class);
    }
    
    // ูู ุงููุดุงุฑูุงุช ูู ุงูุฏููุฉ (ุนุจุฑ ุงููุณุชุฎุฏููู)
    public function posts()
    {
        return $this->hasManyThrough(Post::class, User::class);
    }
}
```

**ุดุฑุญ `hasManyThrough`:**
```php
hasManyThrough(
    Post::class,    // ุงูุฌุฏูู ุงููู ุนุงูุฒูู ููุตูู
    User::class     // ุงูุฌุฏูู ุงููุณูุท
)
```

---

#### ุงูุฎุทูุฉ 3: ุงุณุชุฎุฏุงู ุงูุนูุงูุฉ

```php
$country = Country::find(1);

// ุฌูุจ ูู ุงููุดุงุฑูุงุช ูู ูุตุฑ ูุซูุงู
foreach ($country->posts as $post) {
    echo $post->title;
    echo $post->content;
}

// ุนุฏุฏ ุงููุดุงุฑูุงุช
echo $country->posts->count();       // 150 ูุดุงุฑูุฉ ูุซูุงู
```

---

### ๐จ ุฑุณู ุชูุถูุญู:

```
Countries โ Users โ Posts

ูุตุฑ
  โโโ ูุญูุฏ
  โ    โโโ ูุดุงุฑูุฉ 1
  โ    โโโ ูุดุงุฑูุฉ 2
  โ    โโโ ูุดุงุฑูุฉ 3
  โโโ ุฃุญูุฏ
  โ    โโโ ูุดุงุฑูุฉ 4
  โ    โโโ ูุดุงุฑูุฉ 5
  โโโ ุณุงุฑุฉ
       โโโ ูุดุงุฑูุฉ 6

country->posts()  โ  ุชุฌูุจ ูู ุงููุดุงุฑูุงุช ูุจุงุดุฑุฉ!
```

---

## ๐ ุงูุนูุงูุงุช ุงูุนูุณูุฉ (Polymorphic)

### ูุซุงู ุจุณูุท: ูุธุงู ุงูุชุนูููุงุช ุงูููุญุฏ

**ุงูููุฑุฉ:** 
- ุงูุชุนูููุงุช ูููู ุชููู ุนูู ููุงูุงุช
- ุงูุชุนูููุงุช ูููู ุชููู ุนูู ููุฏูููุงุช
- ุงูุชุนูููุงุช ูููู ุชููู ุนูู ุตูุฑ

**ุจุฏู ูุง ูุนูู 3 ุฌุฏุงูู ุชุนูููุงุชุ ูุนูู ุฌุฏูู ูุงุญุฏ!**

---

### ุฅูุดุงุก ุงูุฌุฏูู:

```php
Schema::create('comments', function (Blueprint $table) {
    $table->id();
    $table->text('content');
    $table->morphs('commentable');    // ุจูุนูู ุนููุฏูู ุชููุงุฆูุงู
    $table->timestamps();
});
```

**ุงูุฃุนูุฏุฉ ุงููู ุงุชุนููุช:**
- `commentable_id` - ุฑูู ุงูุญุงุฌุฉ (ููุงูุ ููุฏููุ ุตูุฑุฉ)
- `commentable_type` - ููุน ุงูุญุงุฌุฉ (Post, Video, Image)

---

### ูุชุงุจุฉ ุงูุนูุงูุฉ:

**ูู Model Comment:**
```php
class Comment extends Model
{
    public function commentable()
    {
        return $this->morphTo();
    }
}
```

**ูู Model Post:**
```php
class Post extends Model
{
    public function comments()
    {
        return $this->morphMany(Comment::class, 'commentable');
    }
}
```

**ูู Model Video:**
```php
class Video extends Model
{
    public function comments()
    {
        return $this->morphMany(Comment::class, 'commentable');
    }
}
```

---

### ุงูุงุณุชุฎุฏุงู:

```php
// ุฅุถุงูุฉ ุชุนููู ุนูู ููุงู
$post = Post::find(1);
$post->comments()->create([
    'content' => 'ุชุนููู ุฑุงุฆุน!'
]);

// ุฅุถุงูุฉ ุชุนููู ุนูู ููุฏูู
$video = Video::find(1);
$video->comments()->create([
    'content' => 'ููุฏูู ูููุฏ!'
]);

// ุฌูุจ ุงูุชุนููู ูุดูู ุนูู ุฅูู
$comment = Comment::find(1);
echo $comment->commentable_type;     // App\Models\Post
echo $comment->commentable->title;   // ุนููุงู ุงูููุงู
```

---

## ๐ ููุฎุต ุณุฑูุน ููุนูุงูุงุช

### ุฌุฏูู ุงูููุงุฑูุฉ:

| ุงูุนูุงูุฉ | ูุชู ุชุณุชุฎุฏููุง | ูุซุงู | ุงูุฏุงูุฉ |
|--------|-------------|------|--------|
| **One to One** | ูุงุญุฏ ููุงุญุฏ | ููุฒุฑ ูุจุฑููุงูู | `hasOne`, `belongsTo` |
| **One to Many** | ูุงุญุฏ ููุชูุฑ | ููุฒุฑ ูููุงูุงุช | `hasMany`, `belongsTo` |
| **Many to Many** | ูุชูุฑ ููุชูุฑ | ุทูุจุฉ ูููุงุฏ | `belongsToMany` |
| **Has Many Through** | ุนุจุฑ ุนูุงูุฉ | ุฏููุฉ ููุดุงุฑูุงุช | `hasManyThrough` |

---

### ูุชู ุชุณุชุฎุฏู ุฅูู:

**โ ุงุณุชุฎุฏู One to One:**
- ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ (Profile)
- ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู
- ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ

**โ ุงุณุชุฎุฏู One to Many:**
- ุงูููุงูุงุช ูุงูุชุนูููุงุช
- ุงููุฆุงุช ูุงูููุชุฌุงุช (ุฅุฐุง ูุงู ุงูููุชุฌ ููุฆุฉ ูุงุญุฏุฉ ููุท)
- ุงูุทูุจุงุช ูุนูุงุตุฑ ุงูุทูุจ

**โ ุงุณุชุฎุฏู Many to Many:**
- ุงูุทูุจุฉ ูุงูููุงุฏ
- ุงูููุชุฌุงุช ูุงููุฆุงุช (ุฅุฐุง ูุงู ุงูููุชุฌ ูุฃูุชุฑ ูู ูุฆุฉ)
- ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

**โ ุงุณุชุฎุฏู Has Many Through:**
- ุงูุฏููุฉ ูุงููุดุงุฑูุงุช (ุนุจุฑ ุงููุณุชุฎุฏููู)
- ุงูุดุฑูุฉ ูุงููุดุงุฑูุน (ุนุจุฑ ุงูุฃูุณุงู)

---

## ๐ก ูุตุงุฆุญ ูููุฉ

### 1๏ธโฃ ุงูุชุณููุฉ ูููุฉ ุฌุฏุงู

```php
// โ ุตุญ
hasMany โ posts()      (ุฌูุน)
hasOne โ profile()     (ููุฑุฏ)
belongsTo โ user()     (ููุฑุฏ)

// โ ุบูุท
hasMany โ post()       (ููุฑุฏ!)
hasOne โ profiles()    (ุฌูุน!)
```

---

### 2๏ธโฃ Eager Loading (ุชุญููู ูุณุจู)

**ูุดููุฉ N+1:**
```php
// โ ุจุทูุก ุฌุฏุงู - ุจูุนูู ุงุณุชุนูุงู ููู ููุงู!
$posts = Post::all();
foreach ($posts as $post) {
    echo $post->user->name;  // ุงุณุชุนูุงู ุฌุฏูุฏ ููู ููุงู!
}
```

**ุงูุญู - Eager Loading:**
```php
// โ ุณุฑูุน - ุงุณุชุนูุงู ูุงุญุฏ ุจุณ!
$posts = Post::with('user')->get();
foreach ($posts as $post) {
    echo $post->user->name;
}
```

---

### 3๏ธโฃ ุชุญููู ุฃูุชุฑ ูู ุนูุงูุฉ

```php
$posts = Post::with(['user', 'comments', 'category'])->get();
```

---

### 4๏ธโฃ ุงูุนุฏ ุจุฏูู ุชุญููู

```php
// โ ุจูุญูู ูู ุงูุชุนูููุงุช
$commentsCount = $post->comments->count();

// โ ุจูุนุฏ ุจุณ ุจุฏูู ุชุญููู
$commentsCount = $post->comments()->count();
```

---

## ๐ฎ ุชูุงุฑูู ุนูููุฉ

### ุชูุฑูู 1: ูุธุงู ููุชุจุฉ
ุงุนูู ุงูุนูุงูุงุช ุฏู:
- ูู ูุชุงุจ ูู ูุคูู ูุงุญุฏ
- ูู ูุคูู ูุชุจ ูุชุจ ูุชูุฑุฉ
- ูู ูุชุงุจ ูููู ูููู ูู ูุฆุงุช ูุชูุฑุฉ
- ูู ูุฆุฉ ูููุง ูุชุจ ูุชูุฑุฉ

---

### ุชูุฑูู 2: ูุธุงู ูุฏุฑุณุฉ
ุงุนูู ุงูุนูุงูุงุช ุฏู:
- ูู ุทุงูุจ ูู ูุตู ูุงุญุฏ
- ูู ูุตู ููู ุทูุจุฉ ูุชูุฑ
- ูู ุทุงูุจ ุจูุฏุฑุณ ููุงุฏ ูุชูุฑ
- ูู ูุงุฏุฉ ูููุง ุทูุจุฉ ูุชูุฑ
- ูู ูุงุฏุฉ ูููุง ูุฏุฑุณ ูุงุญุฏ
- ูู ูุฏุฑุณ ุจูุฏุฑูุณ ููุงุฏ ูุชูุฑ

---

### ุชูุฑูู 3: ูุธุงู ูุทุนู
ุงุนูู ุงูุนูุงูุงุช ุฏู:
- ูู ุทูุจ ูุนููู ูุงุญุฏ
- ูู ุนููู ุนูุฏู ุทูุจุงุช ูุชูุฑุฉ
- ูู ุทูุจ ููู ุฃุทุจุงู ูุชูุฑุฉ
- ูู ุทุจู ูููู ูููู ูู ุทูุจุงุช ูุชูุฑุฉ

---

## ๐ง ุญู ูุดุงูู ุดุงุฆุนุฉ

### ุงููุดููุฉ 1: "Trying to get property of non-object"

**ุงูุณุจุจ:** ุงูุนูุงูุฉ ูุด ููุฌูุฏุฉ (null)

**ุงูุญู:**
```php
// โ ูููู ูุญุตู error
echo $post->user->name;

// โ ุขูู
echo $post->user ? $post->user->name : 'ุบูุฑ ูุนุฑูู';

// ุฃู
echo $post->user->name ?? 'ุบูุฑ ูุนุฑูู';
```

---

### ุงููุดููุฉ 2: "Call to undefined method"

**ุงูุณุจุจ:** ุบูุท ูู ุงุณู ุงูุฏุงูุฉ

**ุงูุญู:**
```php
// ุชุฃูุฏ ูู ุงูุฃุณูุงุก:
hasOne, hasMany, belongsTo, belongsToMany
```

---

### ุงููุดููุฉ 3: ุงูุนูุงูุฉ ูุด ุดุบุงูุฉ

**ุงูุญู:**
```php
// ุชุฃูุฏ ูู:
1. foreignId ููุฌูุฏ ูู ุงูุฌุฏูู ุงูุตุญ
2. ุงุณู ุงูุนููุฏ foreignId ุตุญูุญ (ูุซูุงู: user_id)
3. ุงูุนูุงูุฉ ููุชูุจุฉ ุตุญ ูู ุงูู Model
4. ุนููุช migrate ููุฌุฏุงูู
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

**ุงูุนูุงูุงุช ุฒู ุนูุงูุงุช ุงููุงุณ ูู ุงูุญูุงุฉ:**

```
๐ค ูุงุญุฏ ููุงุญุฏ   โ ุงูุฒูุฌ ูุงูุฒูุฌุฉ
๐จโ๐งโ๐ฆ ูุงุญุฏ ููุชูุฑ  โ ุงูุฃุจ ูุงูุฃุทูุงู
๐คผ ูุชูุฑ ููุชูุฑ โ ุงูุฃุตุฏูุงุก
```

**ุงูููุงุนุฏ ุงูุฐูุจูุฉ:**

1๏ธโฃ **foreignId** ุฏุงููุงู ูู ุงูุฌุฏูู "ุงูุชุงุจุน"  
2๏ธโฃ **hasOne/hasMany** ูู ุงูุฌุฏูู "ุงูุฃุณุงุณู"  
3๏ธโฃ **belongsTo** ูู ุงูุฌุฏูู "ุงูุชุงุจุน"  
4๏ธโฃ **Many to Many** ูุญุชุงุฌ ุฌุฏูู ูุณูุท  
5๏ธโฃ ุงุณุชุฎุฏู **Eager Loading** ุนุดุงู ุงูุณุฑุนุฉ  

---

**ูุจุฑูู! ๐ ุฏูููุชู ูุงูู ุงูุนูุงูุงุช ุฒู ุงููู!**

ุตููุน ุจุญุจ โค๏ธ ููู ูุทูุฑ ุนุงูุฒ ูููู ุงูุนูุงูุงุช ูู ูุงุฑุงููู

</div>
